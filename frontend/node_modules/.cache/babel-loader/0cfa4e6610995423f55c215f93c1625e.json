{"ast":null,"code":"var _jsxFileName = \"/home/lajob/ucu/web/ReactProject/herokuVersion/frontend/src/components/multiplayer/Timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = _ref => {\n  _s();\n\n  let {\n    targetDate\n  } = _ref;\n  const timerId = useRef(null);\n  const targetDateRef = useRef(null);\n  targetDateRef.current = targetDate;\n  const [timer, setTimer] = useState('00:00');\n\n  const tick = () => {\n    const secondsLeft = Math.floor((targetDateRef.current.getTime() - new Date().getTime()) / 1000);\n\n    if (secondsLeft <= 0) {\n      setTimer('00:00');\n      clearInterval(timerId.current);\n      return;\n    }\n\n    const minutesLeft = Math.floor(secondsLeft / 60);\n    let minutesStr = minutesLeft.toString();\n    let secondsStr = (secondsLeft % 60).toString();\n\n    if (minutesStr.length === 1) {\n      minutesStr = '0' + minutesStr;\n    }\n\n    if (secondsStr.length === 1) {\n      secondsStr = '0' + secondsStr;\n    }\n\n    setTimer(`${minutesStr}:${secondsStr}`);\n  };\n\n  if (targetDate.getTime() > new Date().getTime()) {\n    timerId.current = setInterval(tick, 1000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: timer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Timer, \"DvPU4q4p+IywfDhlE5T9eNgnif4=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useState","useRef","Timer","targetDate","timerId","targetDateRef","current","timer","setTimer","tick","secondsLeft","Math","floor","getTime","Date","clearInterval","minutesLeft","minutesStr","toString","secondsStr","length","setInterval"],"sources":["/home/lajob/ucu/web/ReactProject/herokuVersion/frontend/src/components/multiplayer/Timer.js"],"sourcesContent":["import React, { useState, useRef } from 'react'\n\nconst Timer = ({ targetDate }) => {\n\n    const timerId = useRef(null);\n    const targetDateRef = useRef(null);\n    targetDateRef.current = targetDate;\n\n    const [timer, setTimer] = useState('00:00');\n\n    const tick = () => {\n        const secondsLeft = Math.floor((targetDateRef.current.getTime() - new Date().getTime()) / 1000);\n        if (secondsLeft <= 0) {\n            setTimer('00:00');\n            clearInterval(timerId.current);\n            return;\n        }\n        const minutesLeft = Math.floor(secondsLeft / 60);\n        let minutesStr = minutesLeft.toString();\n        let secondsStr = (secondsLeft % 60).toString();\n        if (minutesStr.length === 1) {\n            minutesStr = '0' + minutesStr;\n        }\n        if (secondsStr.length === 1) {\n            secondsStr = '0' + secondsStr;\n        }\n\n        setTimer(`${minutesStr}:${secondsStr}`);\n    };\n\n    if (targetDate.getTime() > new Date().getTime()) {\n        timerId.current = setInterval(tick, 1000);\n    }\n\n    return (\n        <div>\n            <h2>{timer}</h2>\n        </div>\n    );\n}\n\nexport default Timer;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;;;AAEA,MAAMC,KAAK,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC;EAAF,CAAmB;EAE9B,MAAMC,OAAO,GAAGH,MAAM,CAAC,IAAD,CAAtB;EACA,MAAMI,aAAa,GAAGJ,MAAM,CAAC,IAAD,CAA5B;EACAI,aAAa,CAACC,OAAd,GAAwBH,UAAxB;EAEA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,OAAD,CAAlC;;EAEA,MAAMS,IAAI,GAAG,MAAM;IACf,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACP,aAAa,CAACC,OAAd,CAAsBO,OAAtB,KAAkC,IAAIC,IAAJ,GAAWD,OAAX,EAAnC,IAA2D,IAAtE,CAApB;;IACA,IAAIH,WAAW,IAAI,CAAnB,EAAsB;MAClBF,QAAQ,CAAC,OAAD,CAAR;MACAO,aAAa,CAACX,OAAO,CAACE,OAAT,CAAb;MACA;IACH;;IACD,MAAMU,WAAW,GAAGL,IAAI,CAACC,KAAL,CAAWF,WAAW,GAAG,EAAzB,CAApB;IACA,IAAIO,UAAU,GAAGD,WAAW,CAACE,QAAZ,EAAjB;IACA,IAAIC,UAAU,GAAG,CAACT,WAAW,GAAG,EAAf,EAAmBQ,QAAnB,EAAjB;;IACA,IAAID,UAAU,CAACG,MAAX,KAAsB,CAA1B,EAA6B;MACzBH,UAAU,GAAG,MAAMA,UAAnB;IACH;;IACD,IAAIE,UAAU,CAACC,MAAX,KAAsB,CAA1B,EAA6B;MACzBD,UAAU,GAAG,MAAMA,UAAnB;IACH;;IAEDX,QAAQ,CAAE,GAAES,UAAW,IAAGE,UAAW,EAA7B,CAAR;EACH,CAlBD;;EAoBA,IAAIhB,UAAU,CAACU,OAAX,KAAuB,IAAIC,IAAJ,GAAWD,OAAX,EAA3B,EAAiD;IAC7CT,OAAO,CAACE,OAAR,GAAkBe,WAAW,CAACZ,IAAD,EAAO,IAAP,CAA7B;EACH;;EAED,oBACI;IAAA,uBACI;MAAA,UAAKF;IAAL;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CArCD;;GAAML,K;;KAAAA,K;AAuCN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}