{"ast":null,"code":"import _slicedToArray from\"/home/lajob/ucu/web/ReactProject/herokuVersion/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var Timer=function Timer(_ref){var targetDate=_ref.targetDate;var timerId=useRef(null);var targetDateRef=useRef(null);targetDateRef.current=targetDate;var _useState=useState('00:00'),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];var tick=function tick(){var secondsLeft=Math.floor((targetDateRef.current.getTime()-new Date().getTime())/1000);if(secondsLeft<=0){setTimer('00:00');clearInterval(timerId.current);return;}var minutesLeft=Math.floor(secondsLeft/60);var minutesStr=minutesLeft.toString();var secondsStr=(secondsLeft%60).toString();if(minutesStr.length===1){minutesStr='0'+minutesStr;}if(secondsStr.length===1){secondsStr='0'+secondsStr;}setTimer(\"\".concat(minutesStr,\":\").concat(secondsStr));};if(targetDate.getTime()>new Date().getTime()){timerId.current=setInterval(tick,1000);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:timer})});};export default Timer;","map":{"version":3,"names":["React","useState","useRef","Timer","targetDate","timerId","targetDateRef","current","timer","setTimer","tick","secondsLeft","Math","floor","getTime","Date","clearInterval","minutesLeft","minutesStr","toString","secondsStr","length","setInterval"],"sources":["/home/lajob/ucu/web/ReactProject/herokuVersion/frontend/src/components/multiplayer/Timer.js"],"sourcesContent":["import React, { useState, useRef } from 'react'\n\nconst Timer = ({ targetDate }) => {\n\n    const timerId = useRef(null);\n    const targetDateRef = useRef(null);\n    targetDateRef.current = targetDate;\n\n    const [timer, setTimer] = useState('00:00');\n\n    const tick = () => {\n        const secondsLeft = Math.floor((targetDateRef.current.getTime() - new Date().getTime()) / 1000);\n        if (secondsLeft <= 0) {\n            setTimer('00:00');\n            clearInterval(timerId.current);\n            return;\n        }\n        const minutesLeft = Math.floor(secondsLeft / 60);\n        let minutesStr = minutesLeft.toString();\n        let secondsStr = (secondsLeft % 60).toString();\n        if (minutesStr.length === 1) {\n            minutesStr = '0' + minutesStr;\n        }\n        if (secondsStr.length === 1) {\n            secondsStr = '0' + secondsStr;\n        }\n\n        setTimer(`${minutesStr}:${secondsStr}`);\n    };\n\n    if (targetDate.getTime() > new Date().getTime()) {\n        timerId.current = setInterval(tick, 1000);\n    }\n\n    return (\n        <div>\n            <h2>{timer}</h2>\n        </div>\n    );\n}\n\nexport default Timer;"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,KAAwC,OAAxC,C,2CAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAAoB,IAAjBC,WAAiB,MAAjBA,UAAiB,CAE9B,GAAMC,QAAO,CAAGH,MAAM,CAAC,IAAD,CAAtB,CACA,GAAMI,cAAa,CAAGJ,MAAM,CAAC,IAAD,CAA5B,CACAI,aAAa,CAACC,OAAd,CAAwBH,UAAxB,CAEA,cAA0BH,QAAQ,CAAC,OAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf,GAAMC,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAW,CAACP,aAAa,CAACC,OAAd,CAAsBO,OAAtB,GAAkC,GAAIC,KAAJ,GAAWD,OAAX,EAAnC,EAA2D,IAAtE,CAApB,CACA,GAAIH,WAAW,EAAI,CAAnB,CAAsB,CAClBF,QAAQ,CAAC,OAAD,CAAR,CACAO,aAAa,CAACX,OAAO,CAACE,OAAT,CAAb,CACA,OACH,CACD,GAAMU,YAAW,CAAGL,IAAI,CAACC,KAAL,CAAWF,WAAW,CAAG,EAAzB,CAApB,CACA,GAAIO,WAAU,CAAGD,WAAW,CAACE,QAAZ,EAAjB,CACA,GAAIC,WAAU,CAAG,CAACT,WAAW,CAAG,EAAf,EAAmBQ,QAAnB,EAAjB,CACA,GAAID,UAAU,CAACG,MAAX,GAAsB,CAA1B,CAA6B,CACzBH,UAAU,CAAG,IAAMA,UAAnB,CACH,CACD,GAAIE,UAAU,CAACC,MAAX,GAAsB,CAA1B,CAA6B,CACzBD,UAAU,CAAG,IAAMA,UAAnB,CACH,CAEDX,QAAQ,WAAIS,UAAJ,aAAkBE,UAAlB,EAAR,CACH,CAlBD,CAoBA,GAAIhB,UAAU,CAACU,OAAX,GAAuB,GAAIC,KAAJ,GAAWD,OAAX,EAA3B,CAAiD,CAC7CT,OAAO,CAACE,OAAR,CAAkBe,WAAW,CAACZ,IAAD,CAAO,IAAP,CAA7B,CACH,CAED,mBACI,kCACI,oBAAKF,KAAL,EADJ,EADJ,CAKH,CArCD,CAuCA,cAAeL,MAAf"},"metadata":{},"sourceType":"module"}